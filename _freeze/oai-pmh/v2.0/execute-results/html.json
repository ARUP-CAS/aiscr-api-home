{
  "hash": "8d089c305f0f3712d9420199a83eb6d8",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"OAI-PMH API v2.0\"\nsubtitle: OpenArchives Initiative Protocol for Metadata Harvesting API, v2.0\ndate: 2024-07-17\n---\n\n\n::: {.callout-important}\n\n## Superseded version of service and schema\n\nSince **21 March 2025** **v2.0** of the service and schema is **superseded by version 2.1**.  \nThe service and data remains available for now, but we recommend switching to the newer version.\n\n:::\n\n::: {.callout-note}\n\nAPI is available here: [https://api.aiscr.cz/2.0/oai?verb=Identify](https://api.aiscr.cz/2.0/oai?verb=Identify){.external}.  \nUser registration is available here: [https://amcr.aiscr.cz/accounts/register/](https://amcr.aiscr.cz/accounts/register/){.external}.  \nThis guide is valid for **version 2.0** of the service and the schema.  \n\n:::\n\nOAI-PMH AMCR API provides metadata from the AMCR database using the *OpenArchives Initiative Protocol for Metadata Harvesting* ([OAI-PMH](http://www.openarchives.org/OAI/2.0/oai_dc.xsd){.external}). The implementation supports two metadata standards:\n\n- [Dublin Core](http://dublincore.org/){.external} -- AMCR basic metadata serialised using Dublin Core elements from the DCMI schema for unqualified Dublin Core according to OAI-PMH specification;\n- [AMCR XML](https://api.aiscr.cz/schema/amcr/2.0/amcr.xsd) -- native format with a complete representation of the whole AMCR database. \n\nThe API response is an XML file.\n\n\n## Access\n\nThe access to some metadata is protected by user roles:\n\n- **A** (anonymous) -- anyone on the internet accessing AMCR services,\n- **B** (researcher) -- registered user,\n- **C** (archaeologist) -- archaeologist from a licensed organisation,\n- **D** (archivist) -- authorised AMCR archivist.\n\nRegistration to the system is available [here](https://amcr.aiscr.cz/accounts/register/){.external}.\n\nAccessibility is automatically assessed for each record based on the user's role, organisational affiliation and the processing state of the record.\nIf the record or part of it is inaccessible, the corresponding element will return an `HTTP/1.1 403 Forbidden` string.\nThe rules are applied as detailed in the following tables. \nThe first table defines the basic rules for the record to be visible, the second table lists the effects of the limited accessibility defined on the individual record level.\n\n\n::: {.cell tbl-cap='Basic rules for the record visibility'}\n::: {.cell-output-display}\n\n\n|element              |       A       |           B           |                 C                  |    D     |\n|:--------------------|:-------------:|:---------------------:|:----------------------------------:|:--------:|\n|projekt              |   stav = 6    |       stav = 6        |              stav > 0              | &#x2714; |\n|projekt/oznamovatel  |   &#x2718;    |       &#x2718;        | stav = 1 OR my organisation record | &#x2714; |\n|archeologicky_zaznam |   stav = 3    |       &#x2714;        |              &#x2714;              | &#x2714; |\n|let                  |   &#x2714;    |       &#x2714;        |              &#x2714;              | &#x2714; |\n|adb                  | stav_pom  = 3 |       &#x2714;        |              &#x2714;              | &#x2714; |\n|dokument             |   stav = 3    |       &#x2714;        |              &#x2714;              | &#x2714; |\n|ext_zdroj            |   stav = 3    |       &#x2714;        |              &#x2714;              | &#x2714; |\n|pian                 |   stav = 2    |       &#x2714;        |              &#x2714;              | &#x2714; |\n|samostatny_nalez     |   stav = 4    | stav = 4 OR my record | stav = 4 OR my organisation record | &#x2714; |\n|uzivatel             |   &#x2718;    |       my record       |             my record              | &#x2714; |\n|heslo                |   &#x2714;    |       &#x2714;        |              &#x2714;              | &#x2714; |\n|ruian_kraj           |   &#x2714;    |       &#x2714;        |              &#x2714;              | &#x2714; |\n|ruian_okres          |   &#x2714;    |       &#x2714;        |              &#x2714;              | &#x2714; |\n|ruian_katastr        |   &#x2714;    |       &#x2714;        |              &#x2714;              | &#x2714; |\n|organizace           |   &#x2714;    |       &#x2714;        |              &#x2714;              | &#x2714; |\n|osoba                |   &#x2714;    |       &#x2714;        |              &#x2714;              | &#x2714; |\n\n\n:::\n:::\n\n\n> *stav* -- processing state of the record, see [Documentation](https://amcr-help.aiscr.cz/o-systemu/procesy.html){.external} (*in Czech language only*)  \n> *my record* -- record created by the user  \n> *my organisation record* -- record created by someone from user's organisation\n\n\n::: {.cell tbl-cap='Effects of the limited accessibility'}\n::: {.cell-output-display}\n\n\n|element with required role       |protected element                            |\n|:--------------------------------|:--------------------------------------------|\n|projekt/pristupnost_pom          |projekt/chranene_udaje                       |\n|archeologicky_zaznam/pristupnost |archeologicky_zaznam/chranene_udaje          |\n|archeologicky_zaznam/pristupnost |archeologicky_zaznam/akce/chranene_udaje     |\n|archeologicky_zaznam/pristupnost |archeologicky_zaznam/lokalita/chranene_udaje |\n|adb/pristupnost_pom              |adb/chranene_udaje                           |\n|pian/pristupnost_pom             |pian/chranene_udaje                          |\n|samostatny_nalez/pristupnost     |samostatny_nalez/chranene_udaje              |\n\n\n:::\n:::\n\n\n\n## Specification\n\n### Schema\n\nSchema (XSD) for current version of the service can be found here: [https://api.aiscr.cz/schema/amcr/2.0/](https://api.aiscr.cz/schema/amcr/2.0/).\nThe schema follows the AMCR data structure as described [here](https://amcr-help.aiscr.cz/o-systemu/datovy-model.html){.external}.\nMain entities are represented as records in individual sets (see below), with all direct children listed in the XML hierarchical structure.\n\n\n### Filters\n\n#### Sets\n\nSelective querying can be achieved using predefined sets.\nDescription of sets' contents is available at: [https://api.aiscr.cz/2.0/oai?verb=ListSets](https://api.aiscr.cz/2.0/oai?verb=ListSets){.external}.\n\n\n::: {.cell tbl-cap='Available sets'}\n::: {.cell-output-display}\n\n\n|setSpec                       |setName                                                               | vocabulary |\n|:-----------------------------|:---------------------------------------------------------------------|:----------:|\n|projekt                       |Projekty / Projects                                                   |  &#x2718;  |\n|archeologicky_zaznam          |Archeologické záznamy / Archaeological Records                        |  &#x2718;  |\n|archeologicky_zaznam:akce     |Akce / Fieldwork Events                                               |  &#x2718;  |\n|archeologicky_zaznam:lokalita |Lokality / Sites                                                      |  &#x2718;  |\n|let                           |Lety / Flights                                                        |  &#x2718;  |\n|adb                           |Archeologické dokumentační body / Archaeological Documentation Points |  &#x2718;  |\n|dokument                      |Dokumenty / Documents                                                 |  &#x2718;  |\n|ext_zdroj                     |Externí zdroje / External Sources                                     |  &#x2718;  |\n|pian                          |PIAN / Spatial Units                                                  |  &#x2718;  |\n|samostatny_nalez              |Samostatné nálezy / Individual Finds                                  |  &#x2718;  |\n|uzivatel                      |Uživatelé / Users                                                     |  &#x2718;  |\n|heslo                         |Hesláře / Vocabularies                                                |  &#x2714;  |\n|ruian_kraj                    |RÚIAN - Kraje / RÚIAN – Regions                                       |  &#x2714;  |\n|ruian_okres                   |RÚIAN - Okresy / RÚIAN – Districts                                    |  &#x2714;  |\n|ruian_katastr                 |RÚIAN - Katastrální území / RÚIAN - Cadastral Municipality            |  &#x2714;  |\n|organizace                    |Organizace / Organisations                                            |  &#x2714;  |\n|osoba                         |Osoby / Persons                                                       |  &#x2714;  |\n\n\n:::\n:::\n\n\n\n#### Datestamps and deleted records\n\nIn `ListIdentifiers` and `ListRecords` requests it is possible to filter based on optional query argument datestamp.\n(`from` -- `until`).\n\nThe datestamp reflects the last change to the record. \nThe API also keeps track of deleted records that are no longer available in AMCR. \nSuch records are still listed in the results, while the datestamp marks the date of deletion. \nDeleted records are marked with the `status=\"deleted\"` attribute in the header element of the record (i.e. `<header status=\"deleted\">`). \nTherefore, datestamps and from/until arguments can be used to continuously update previous harvests.\n\n\n## Login and authorization\n\nTo be able to access records with limited accessibility, it is neccessary to login using *Basic Access Authentication* while sending the requests.\n\n\n### cURL\n\nUse flag `-u` tu put in your username and password in each request.\n\n```zsh\ncurl -u <username>:<password> <GET request>\n```\n\n\n### Postman\n\nIn Postman, username and password can be set up on the *Authorization* tab.\nSelect *Basic Auth* in the *TYPE* menu.\n\n\n## Verbs\n\nOAI-PMH protocol defines several verbs that allow metadata harvesting, the specification is available [here](http://www.openarchives.org/OAI/openarchivesprotocol.html){.external}.\n\n\n### Identify\n\nVerb `Identify` is used to get information about the repository. \n\n*Request:* [https://api.aiscr.cz/2.0/oai?verb=Identify](https://api.aiscr.cz/2.0/oai?verb=Identify){.external}\n\n```zsh\ncurl 'https://api.aiscr.cz/2.0/oai?verb=Identify'\n```\n\n*Sample response:*\n\n::: {.small}\n```xml\n<OAI-PMH xsi:schemaLocation=\"http://www.openarchives.org/OAI/2.0/ http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd\">\n  <responseDate>2024-07-11T12:26:50Z</responseDate>\n  <request verb=\"Identify\">https://api.aiscr.cz/oai</request>\n  <Identify>\n    <repositoryName>Archaeological Map of the Czech Republic (AMCR)</repositoryName>\n    <baseURL>https://api.aiscr.cz/oai</baseURL>\n    <protocolVersion>2.0</protocolVersion>\n    <adminEmail>info@amapa.cz</adminEmail>\n    <earliestDatestamp>1990-01-01</earliestDatestamp>\n    <deletedRecord>persistent</deletedRecord>\n    <granularity>YYYY-MM-DDThh:mm:ssZ</granularity>\n    <description>\n      <rightsManifest xsi:schemaLocation=\"http://www.openarchives.org/OAI/2.0/rights/ http://www.openarchives.org/OAI/2.0/rightsManifest.xsd\" appliesTo=\"http://www.openarchives.org/OAI/2.0/entity#metadata\">\n        <rights>\n          <rightsReference ref=\"http://creativecommons.org/licenses/by-nc/4.0/rdf\"/>\n        </rights>\n      </rightsManifest>\n    </description>\n    <description>\n      <oai_dc:dc xsi:schemaLocation=\"http://www.openarchives.org/OAI/2.0/oai_dc/ http://www.openarchives.org/OAI/2.0/oai_dc.xsd\">\n        <dc:title xml:lang=\"cs\">Archeologická mapa České Republiky (AMCR)</dc:title>\n        <dc:title xml:lang=\"en\">Archaeological Map of the Czech Republic (AMCR)</dc:title>\n        [...]\n        <dc:identifier>https://api.aiscr.cz/</dc:identifier>\n        <dc:identifier>version 2.0.0</dc:identifier>\n        [...]\n      </oai_dc:dc>\n    </description>\n  </Identify>\n</OAI-PMH>\n```\n:::\n\n\n### ListMetadataFormats\n\nVerb `ListMetadataFormats` returns available metadata formats/standards.\n\n*Request:* [https://api.aiscr.cz/2.0/oai?verb=ListMetadataFormats](https://api.aiscr.cz/2.0/oai?verb=ListMetadataFormats){.external}\n\n```zsh\ncurl 'https://api.aiscr.cz/2.0/oai?verb=ListMetadataFormats'\n```\n\n*Sample response:*\n\n::: {.small}\n```xml\n<OAI-PMH xsi:schemaLocation=\"http://www.openarchives.org/OAI/2.0/ http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd\">\n  <responseDate>2024-07-11T12:46:31Z</responseDate>\n  <request verb=\"ListMetadataFormats\">https://api.aiscr.cz/oai</request>\n  <ListMetadataFormats>\n    <metadataFormat>\n      <metadataPrefix>oai_dc</metadataPrefix>\n      <schema>http://www.openarchives.org/OAI/2.0/oai_dc.xsd</schema>\n      <metadataNamespace>http://www.openarchives.org/OAI/2.0/oai_dc/</metadataNamespace>\n    </metadataFormat>\n    <metadataFormat>\n      <metadataPrefix>oai_amcr</metadataPrefix>\n      <schema>https://api.aiscr.cz/schema/amcr/2.0/amcr.xsd</schema>\n      <metadataNamespace>https://api.aiscr.cz/schema/amcr/2.0/</metadataNamespace>\n    </metadataFormat>\n  </ListMetadataFormats>\n</OAI-PMH>\n```\n:::\n\nSupported metadata formats are:\n\n- Dublin Core -- `metadataPrefix=oai_dc`, schema available [here](http://www.openarchives.org/OAI/2.0/oai_dc.xsd){.external},\n- native AMCR *.xml* format -- `metadataPrefix=oai_amcr`, schema available [here](https://api.aiscr.cz/schema/amcr/2.0/).\n\n\n### ListSets\n\nVerb `ListSets` lists available sets.\n\n*Request:* [https://api.aiscr.cz/2.0/oai?verb=ListSets](https://api.aiscr.cz/2.0/oai?verb=ListSets){.external}\n\n```zsh\ncurl 'https://api.aiscr.cz/2.0/oai?verb=ListSets'\n```\n\n*Sample response:*\n\n::: {.small}\n```xml\n<OAI-PMH xsi:schemaLocation=\"http://www.openarchives.org/OAI/2.0/ http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd\">\n  <responseDate>2024-07-11T13:28:01Z</responseDate>\n  <request verb=\"ListSets\">https://api.aiscr.cz/oai</request>\n  <ListSets>\n    <set>\n      <setSpec>projekt</setSpec>\n      <setName>Projekty / Projects</setName>\n      <setDescription>\n        <oai_dc:dc xsi:schemaLocation=\"http://www.openarchives.org/OAI/2.0/oai_dc/ http://www.openarchives.org/OAI/2.0/oai_dc.xsd\">\n          <dc:description xml:lang=\"cs\">\n            Evidenční jednotky terénní činnosti badatelského nebo záchranného rázu evidované již ve fázi přípravy. Pro vymezení projektu je rozhodující podnět k výzkumu a provádějící subjekt (oprávněná organizace), lokalizace a příp. projektová dokumentace. Na projekt zpravidla navazuje jedna či (méně často) více terénních akcí či evidence samostatných nálezů.\n          </dc:description>\n          <dc:description xml:lang=\"en\">\n            Records of field activities of a research or development-led nature recorded in the preparation phase. For the definition of the project, the motivation and the implementing body (authorised organisation), the location and, if applicable, the project documentation are decisive. The project is usually followed by one or (less frequently) more fieldwork, or the recording of individual finds.\n          </dc:description>\n        </oai_dc:dc>\n      </setDescription>\n    </set>\n    [...]\n  </ListSets>\n</OAI-PMH>\n```\n:::\n\n\n### ListIdentifiers\n\nVerb `ListIdentifiers` lists record headers.\nRequired argument is `metadataPrefix`, optional arguments allow filtering based on predefined sets (`set`) and/or datestamps (`from`, `until`).\nOnly first page with limited amount of records is returned, to go to the next page, user has to submit a `resumptionToken` returned in the response.\n\n*Request:* [https://api.aiscr.cz/2.0/oai?verb=ListIdentifiers&metadataPrefix=oai_amcr](https://api.aiscr.cz/2.0/oai?verb=ListIdentifiers&metadataPrefix=oai_amcr){.external}\n\n```zsh\ncurl 'https://api.aiscr.cz/2.0/oai?verb=ListIdentifiers&metadataPrefix=oai_amcr'\n```\n\n*Sample response:*\n\n::: {.small}\n```xml\n<OAI-PMH xsi:schemaLocation=\"http://www.openarchives.org/OAI/2.0/ http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd\">\n  <responseDate>2024-07-11T12:51:03Z</responseDate>\n  <request verb=\"ListIdentifiers\" metadataPrefix=\"oai_amcr\">https://api.aiscr.cz/oai</request>\n  <ListIdentifiers>\n    <record>\n      <header>\n        <identifier>https://api.aiscr.cz/id/C-202013149</identifier>\n        <datestamp>2024-07-11T12:27:13.968Z</datestamp>\n        <setSpec>projekt</setSpec>\n      </header>\n    </record>\n    <record>\n      <header>\n        <identifier>https://api.aiscr.cz/id/P-0334-000377</identifier>\n        <datestamp>2024-07-11T12:12:19.386Z</datestamp>\n        <setSpec>pian</setSpec>\n      </header>\n    </record>\n    <record>\n      <header>\n        <identifier>https://api.aiscr.cz/id/C-DL-200400209</identifier>\n        <datestamp>2024-07-11T12:10:48.403Z</datestamp>\n        <setSpec>dokument</setSpec>\n      </header>\n    </record>\n    [...]\n    <resumptionToken completeListSize=\"859203\" expirationDate=\"2024-07-23T06:33:12Z\" cursor=\"0\">BF0A0598B38E42E3FEB4E639B2911C90</resumptionToken>\n  </ListIdentifiers>\n</OAI-PMH>\n```\n:::\n\n\n### ListRecords\n\nVerb `ListRecords` lists records.\nRequired argument is `metadataPrefix`, optional arguments allow filtering based on predefined sets (`set`) and/or datestamps (`from`, `until`).\nOnly first page with limited amount of records is returned, to go to the next page, user has to submit a `resumptionToken` returned in the response.\n\n*Request:* [https://api.aiscr.cz/2.0/oai?verb=ListRecords&metadataPrefix=oai_dc](https://api.aiscr.cz/2.0/oai?verb=ListRecords&metadataPrefix=oai_dc){.external}\n\n```zsh\ncurl 'https://api.aiscr.cz/2.0/oai?verb=ListRecords&metadataPrefix=oai_dc'\n```\n\n*Sample response:*\n\n::: {.small}\n```xml\n<OAI-PMH xsi:schemaLocation=\"http://www.openarchives.org/OAI/2.0/ http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd\">\n  <responseDate>2024-07-11T13:25:02Z</responseDate>\n  <request verb=\"ListRecords\" metadataPrefix=\"oai_dc\">https://api.aiscr.cz/oai</request>\n  <ListRecords>\n    <record>\n      <header>\n        <identifier>https://api.aiscr.cz/id/C-202013149</identifier>\n        <datestamp>2024-07-11T12:27:13.968Z</datestamp>\n        <setSpec>projekt</setSpec>\n      </header>\n      <metadata>\n        <oai_dc:dc xsi:schemaLocation=\"http://www.openarchives.org/OAI/2.0/oai_dc/ http://www.openarchives.org/OAI/2.0/oai_dc.xsd\">\n          <oai_dc:dc xsi:schemaLocation=\"http://www.openarchives.org/OAI/2.0/oai_dc/ http://www.openarchives.org/OAI/2.0/oai_dc.xsd\">\n            <dc:title xml:lang=\"cs\">AMCR - projekt C-202013149</dc:title>\n            <dc:identifier>C-202013149</dc:identifier>\n            <dc:subject xml:lang=\"cs\">projekt</dc:subject>\n            <dc:description xml:lang=\"cs\">Stav: 6</dc:description>\n            <dc:type>http://base_url/id/HES-000865</dc:type>\n            [...]\n          </oai_dc:dc>\n        </oai_dc:dc>\n      </metadata>\n    </record>\n    <resumptionToken completeListSize=\"859203\" expirationDate=\"2024-07-23T06:33:12Z\" cursor=\"0\">BF0A0598B38E42E3FEB4E639B2911C90</resumptionToken>\n  </ListRecords>\n</OAI-PMH>\n```\n:::\n\n\n### GetRecord\n\nVerb `GetRecord` returns individual record. \nRequired arguments are `metadataPrefix` and `identifier` (unique identifier of the record, URI).\nUnique identifier of individual record is in the header of each record in the element with tag `<identifier>`.\nThe contents of `<identifier>` element is derived from a unique identifier of the given record usually stored in the `<amcr:ident_cely>` prefixed with namespace according to the API endpoint, i.e. string `https://api.aiscr.cz/id/`.\n\nResulting URL acts as an alias to `GetRecord` in the `oai_amcr` schema for the specified record, and is automatically translated into the appropriate request. \nTherefore it can be used to easily refer specific records in the API.\n\n*Request:* [https://api.aiscr.cz/2.0/oai?verb=GetRecord&identifier=https://api.aiscr.cz/id/M-FT-110598700&metadataPrefix=oai_amcr](https://api.aiscr.cz/2.0/oai?verb=GetRecord&identifier=https://api.aiscr.cz/id/M-FT-110598700&metadataPrefix=oai_amcr){.external}\n\n```zsh\ncurl 'https://api.aiscr.cz/2.0/oai?verb=GetRecord&identifier=https://api.aiscr.cz/id/M-FT-110598700&metadataPrefix=oai_amcr'\n```\n\n*Sample response:*\n\n::: {.small}\n```xml\n<OAI-PMH xsi:schemaLocation=\"http://www.openarchives.org/OAI/2.0/ http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd\">\n  <responseDate>2024-07-15T09:04:59Z</responseDate>\n  <request verb=\"GetRecord\" identifier=\"https://api.aiscr.cz/id/M-FT-110598700\" metadataPrefix=\"oai_amcr\">https://api.aiscr.cz/oai</request>\n  <GetRecord>\n    <record>\n      <header>\n        <identifier>https://api.aiscr.cz/id/M-FT-110598700</identifier>\n        <datestamp>2024-05-09T12:39:30.474Z</datestamp>\n        <setSpec>dokument</setSpec>\n      </header>\n      <metadata>\n        <amcr:amcr xsi:schemaLocation=\"https://api.aiscr.cz/schema/amcr/2.0/ https://api.aiscr.cz/schema/amcr/2.0/amcr.xsd http://www.opengis.net/gml/3.2 http://schemas.opengis.net/gml/3.2.1/gml.xsd\"> HTTP/1.1 403 Forbidden </amcr:amcr>\n      </metadata>\n    </record>\n  </GetRecord>\n</OAI-PMH>\n```\n:::\n\n\n## Arguments\n\nSome requests (verbs) have required arguments (typically specifying the metadata format with `metadataPrefix`) and some have optional arguments allowing filtration, pagination etc.\n\n\n::: {.cell tbl-cap='Required and optional query arguments'}\n::: {.cell-output-display}\n\n\n|verb                |required                   |optional                          |\n|:-------------------|:--------------------------|:---------------------------------|\n|Identify            |-                          |-                                 |\n|ListMetadataFormats |-                          |identifier                        |\n|ListIdentifiers     |metadataPrefix             |set, from, until, resumptionToken |\n|ListRecords         |metadataPrefix             |set, from, until, resumptionToken |\n|GetRecord           |identifier, metadataPrefix |-                                 |\n|ListSets            |-                          |resumptionToken                   |\n\n\n:::\n:::\n\n\n\n### Pagination\n\nIn case of `ListIdentifiers`, `ListRecords` and `ListSets` requests, only the first page of results is returned.\nTo get another page, a `resumptionToken` returned at the end of the response must be used as an argument in the following request.\nArgument `resumptionToken` should be always the last argument in the request.\n\n*Request:* [https://api.aiscr.cz/2.0/oai?verb=ListRecords&metadataPrefix=oai_amcr](https://api.aiscr.cz/2.0/oai?verb=ListRecords&metadataPrefix=oai_amcr){.external}\n\n```zsh\ncurl 'https://api.aiscr.cz/2.0/oai?verb=ListRecords&metadataPrefix=oai_amcr'\n```\n\n*Sample response:* \n\n::: {.small}\n```xml\n<OAI-PMH xsi:schemaLocation=\"http://www.openarchives.org/OAI/2.0/ http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd\">\n  <responseDate>2024-07-15T11:57:23Z</responseDate>\n  <request verb=\"ListRecords\" metadataPrefix=\"oai_amcr\">https://api.aiscr.cz/oai</request>\n  <ListRecords>\n    <record>\n      <header>\n        [...]\n      </header>\n      <metadata>\n        [...]\n      </metadata>\n    </record>\n    <resumptionToken completeListSize=\"859203\" expirationDate=\"2024-07-23T06:33:12Z\" cursor=\"0\">BF0A0598B38E42E3FEB4E639B2911C90</resumptionToken>\n  </ListRecords>\n</OAI-PMH>\n```\n:::\n\n*Follow up request with `resumptionToken`:* [https://api.aiscr.cz/2.0/oai?verb=ListRecords&resumptionToken=BF0A0598B38E42E3FEB4E639B2911C90](https://api.aiscr.cz/2.0/oai?verb=ListRecords&resumptionToken=BF0A0598B38E42E3FEB4E639B2911C90){.external}\n\n```zsh\ncurl 'https://api.aiscr.cz/2.0/oai?verb=ListRecords&resumptionToken=BF0A0598B38E42E3FEB4E639B2911C90'\n```\n\n::: {.small}\n```xml\n<OAI-PMH xsi:schemaLocation=\"http://www.openarchives.org/OAI/2.0/ http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd\">\n  <responseDate>2024-07-15T12:01:28Z</responseDate>\n  <request verb=\"ListRecords\" resumptionToken=\"BF0A0598B38E42E3FEB4E639B2911C90\">https://api.aiscr.cz/oai</request>\n  <ListRecords>\n    <record>\n      <header>\n        [...]\n      </header>\n      <metadata>\n        [...]\n      </metadata>\n    </record>\n    <resumptionToken completeListSize=\"859206\" expirationDate=\"2024-07-24T16:12:38Z\" cursor=\"100\">7C6DD5774E7C5493819FF48540A24546</resumptionToken>\n  </ListRecords>\n</OAI-PMH>\n```\n:::\n\nNotice the attributes of the `resumptionToken` element `completeListSize` indicating total number of results and `cursor` indicating that the first record in the given response is n-th returned record.\n\nEach resumption token also has set expiration date until when it can be used to acquire the next page. \nPlease note that the data in the API is constantly updated so it is advisable to harvest the results at once to avoid possible inconsistencies in the response.\n\n\n### Filters\n\nSelective harvesting is allowed thanks to datestamps of records and sets.\n\n\n#### Sets\n\nAvailable sets of records are returned using the `ListSets` verb.\nThe contents of the `<setSpec>` element can be used in a `set` argument in `ListIdentifiers` and `ListRecords` requests.\n\n*Request:* [https://api.aiscr.cz/2.0/oai?verb=ListIdentifiers&set=pian&metadataPrefix=oai_amcr](https://api.aiscr.cz/2.0/oai?verb=ListIdentifiers&set=pian&metadataPrefix=oai_amcr){.external}\n\n```zsh\ncurl 'https://api.aiscr.cz/2.0/oai?verb=ListIdentifiers&set=pian&metadataPrefix=oai_amcr'\n```\n\n*Sample response:* \n\n::: {.small}\n```xml\n<OAI-PMH xsi:schemaLocation=\"http://www.openarchives.org/OAI/2.0/ http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd\">\n  <responseDate>2024-07-15T12:17:21Z</responseDate>\n  <request verb=\"ListIdentifiers\" set=\"pian\" metadataPrefix=\"oai_amcr\">https://api.aiscr.cz/oai</request>\n  <ListIdentifiers>\n    <record>\n      <header>\n        <identifier>https://api.aiscr.cz/id/P-1223-101288</identifier>\n        <datestamp>2024-07-15T11:13:45.237Z</datestamp>\n        <setSpec>pian</setSpec>\n      </header>\n    </record>\n    [...]\n    <resumptionToken completeListSize=\"859203\" expirationDate=\"2024-07-23T06:33:12Z\" cursor=\"0\">BF0A0598B38E42E3FEB4E639B2911C90</resumptionToken>\n  </ListIdentifiers>\n</OAI-PMH>\n```\n:::\n\n\n#### Datestamps\n\nArguments `from` and `until` in `ListIdentifiers` and `ListRecords` requests allow filtering based on a datestamp of the given record.\nUse timestamps in ISO-8601 standard format, i.e. YYYY-MM-DDThh:mm:ssZ or its subset.\n\n*Request:* [https://api.aiscr.cz/2.0/oai?verb=ListIdentifiers&set=projekt&from=2023-04-21&until=2024-04-27&metadataPrefix=oai_amcr](https://api.aiscr.cz/2.0/oai?verb=ListIdentifiers&set=projekt&from=2023-04-21&until=2024-04-27&metadataPrefix=oai_amcr){.external}\n\n```zsh\ncurl 'https://api.aiscr.cz/2.0/oai?verb=ListIdentifiers&set=projekt&from=2023-04-21&until=2024-04-27&metadataPrefix=oai_amcr'\n```\n\n*Sample response:* \n\n::: {.small}\n```xml\n<OAI-PMH xsi:schemaLocation=\"http://www.openarchives.org/OAI/2.0/ http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd\">\n  <responseDate>2024-07-15T12:20:21Z</responseDate>\n  <request verb=\"ListIdentifiers\" set=\"projekt\" from=\"2023-04-21\" until=\"2024-04-27\" metadataPrefix=\"oai_amcr\">https://api.aiscr.cz/oai</request>\n  <ListIdentifiers>\n    <record>\n      <header>\n        <identifier>https://api.aiscr.cz/id/M-202204394</identifier>\n        <datestamp>2024-04-26T13:08:37.256Z</datestamp>\n        <setSpec>projekt</setSpec>\n      </header>\n    </record>\n    [...]\n    <record>\n      <header>\n        <identifier>https://api.aiscr.cz/id/C-202401944</identifier>\n        <datestamp>2024-03-17T06:32:08.143Z</datestamp>\n        <setSpec>projekt</setSpec>\n      </header>\n    </record>\n    <resumptionToken completeListSize=\"859203\" expirationDate=\"2024-07-23T06:33:12Z\" cursor=\"0\">BF0A0598B38E42E3FEB4E639B2911C90</resumptionToken>\n  </ListIdentifiers>\n</OAI-PMH>\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}